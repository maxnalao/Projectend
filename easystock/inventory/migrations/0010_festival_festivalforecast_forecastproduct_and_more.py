# Generated by Django 5.2.6 on 2025-12-19 16:25

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('inventory', '0009_product_initial_stock'),
    ]

    operations = [
        migrations.CreateModel(
            name='Festival',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏• ‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô, ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà', max_length=100)),
                ('description', models.TextField(blank=True, help_text='‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•', null=True)),
                ('start_date', models.DateField(help_text='‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•')),
                ('end_date', models.DateField(help_text='‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•')),
                ('is_recurring', models.BooleanField(default=True, help_text='‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ (True) ‡∏´‡∏£‡∏∑‡∏≠ ‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ (False)')),
                ('category', models.CharField(choices=[('new_year', '‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà'), ('songkran', '‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô'), ('festival', '‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•'), ('holiday', '‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î'), ('special', '‡∏ß‡∏±‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©')], default='festival', max_length=50)),
                ('icon', models.CharField(default='üéâ', help_text='emoji ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á', max_length=50)),
                ('color', models.CharField(default='#FF6B6B', help_text='‡∏™‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô Calendar (#RRGGBB)', max_length=7)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Festival',
                'verbose_name_plural': 'Festivals',
                'ordering': ['start_date'],
            },
        ),
        migrations.CreateModel(
            name='FestivalForecast',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notes', models.TextField(blank=True, help_text='‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('festival', models.OneToOneField(help_text='‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•', on_delete=django.db.models.deletion.CASCADE, related_name='forecast', to='inventory.festival')),
            ],
            options={
                'verbose_name': 'Festival Forecast',
                'verbose_name_plural': 'Festival Forecasts',
            },
        ),
        migrations.CreateModel(
            name='ForecastProduct',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('recommended_quantity', models.IntegerField(default=0, help_text='‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°')),
                ('confidence', models.IntegerField(default=80, help_text='‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (0-100%)')),
                ('notes', models.TextField(blank=True, help_text='‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏', null=True)),
                ('forecast', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='product_forecasts', to='inventory.festivalforecast')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='inventory.product')),
            ],
            options={
                'ordering': ['-confidence', '-recommended_quantity'],
                'unique_together': {('forecast', 'product')},
            },
        ),
        migrations.AddField(
            model_name='festivalforecast',
            name='recommended_products',
            field=models.ManyToManyField(help_text='‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°', through='inventory.ForecastProduct', to='inventory.product'),
        ),
        migrations.CreateModel(
            name='BestSeller',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_issued', models.IntegerField(default=0, help_text='‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ö‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î')),
                ('percentage_increase', models.FloatField(default=0.0, help_text='‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö last_year')),
                ('last_year_count', models.IntegerField(default=0, help_text='‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ö‡∏¥‡∏Å‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß')),
                ('this_year_count', models.IntegerField(default=0, help_text='‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ö‡∏¥‡∏Å‡∏õ‡∏µ‡∏ô‡∏µ‡πâ')),
                ('rank', models.IntegerField(default=0, help_text='‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà (1=‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡∏™‡∏∏‡∏î)')),
                ('recorded_date', models.DateField(auto_now_add=True, help_text='‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å')),
                ('notes', models.TextField(blank=True, help_text='‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('product', models.ForeignKey(help_text='‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤', on_delete=django.db.models.deletion.CASCADE, related_name='best_sellers', to='inventory.product')),
                ('festival', models.ForeignKey(help_text='‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•', on_delete=django.db.models.deletion.CASCADE, related_name='best_sellers', to='inventory.festival')),
            ],
            options={
                'verbose_name': 'Best Seller',
                'verbose_name_plural': 'Best Sellers',
                'ordering': ['-rank', '-total_issued'],
                'indexes': [models.Index(fields=['festival', '-rank'], name='inventory_b_festiva_470d76_idx'), models.Index(fields=['product', 'festival'], name='inventory_b_product_309d7f_idx')],
                'unique_together': {('product', 'festival')},
            },
        ),
    ]
